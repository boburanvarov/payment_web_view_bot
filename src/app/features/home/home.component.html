<div class="screen home-screen">
    <!-- Profile Header -->
    <div class="profile-header">
        <div class="profile-info">
            <div class="profile-avatar-wrapper">
                <div class="profile-avatar" *ngIf="!userProfile.photoUrl">
                    <span class="avatar-initials">{{ getUserInitials() }}</span>
                </div>
                <img *ngIf="userProfile.photoUrl" [src]="userProfile.photoUrl" alt="Avatar" class="avatar-img">
                <div class="verified-badge">
                    <img src="/assets/img/verified.svg" alt="Verified" />
                </div>
            </div>
            <div class="profile-text">
                <h2 class="profile-name">{{ userProfile.name }}</h2>
                <p class="profile-username">{{ userProfile.username }}</p>
            </div>
        </div>
        <button class="notification-btn">
            <i class="fas fa-bell"></i>
        </button>
    </div>

    <!-- Loading -->
    <div *ngIf="loading()" class="loading-state">
        <p>{{ 'common.loading' | translate }}</p>
    </div>

    <!-- Cards carousel -->
    <app-balance-card-carousel *ngIf="!loading() && cards().length > 0" [cards]="cards()"
        [totalBalance]="totalBalance()" [income]="income" [expenses]="expenses" (cardSelected)="onCardSelected($event)">
    </app-balance-card-carousel>

    <!-- Report Section - Card Reports -->
    <div class="report-section initial-reports" *ngIf="cardReport() && $any(cardReport()).content?.length > 0">
        <app-report-card [reportData]="cardReport()!" [showFilters]="false" [showSeeAll]="true" [maxTransactions]="3">
        </app-report-card>
    </div>

    <!-- Empty Transaction State -->
    <div class="empty-transactions"
        *ngIf="!loading() && cards().length > 0 && (!cardReport() || !$any(cardReport()).content?.length)">
        <h3 class="section-title">{{ 'home.recentTransactions' | translate }}</h3>
        <div class="empty-box">
            <img src="assets/img/transaction-empty.png" alt="No transactions">
            <p>{{ 'common.noData' | translate }}</p>
        </div>
    </div>

    <!-- Advertising Banners -->
    <div class="advertising-banners" *ngIf="banners.length > 0">
        <app-banner-carousel [banners]="banners"></app-banner-carousel>
    </div>

    <!-- Exchange Rate Component -->
    <app-exchange-rate></app-exchange-rate>

    <!-- Empty state -->
    <div *ngIf="!loading() && cards().length === 0" class="empty-state">
        <p>{{ 'cards.noCards' | translate }}</p>
    </div>
</div>